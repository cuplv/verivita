
Auto Verifier Scripts
=====================

This sub-repository contains scripts that invoke the verifiers sanity checking routines. Given a repository of app traces generated by AutoTracer in (https://github.com/cuplv/TraceRunner), the scripts here runs each trace through the verifier's 'check-trace-relevance' subroutine (see https://github.com/cuplv/callback-verification/issues/121). The output is another repository of app traces, with traces further partitioned into one of the following subfolders:

 * good: Traces that are determined to be relevant for verification.
 * exception: Traces that end in an exception.
 * truncated: Traces that are malformed (mismatching entry and exit).
 * useless: Traces that are do not belong in 'exception' or 'truncated', but are not relevant for verification.
 * unknown: Unknown exception thrown during checking of this trace.

Current Deployment
==================

Staging Prototype at CU OpenStack 192.12.243.135 (Callback-Tracer). Project repository is found at /data/cuplv/callback-verification-auto/callback-verification . 
See the custom config file 'openstackFullSuiteConfig.ini' for configurations and also run the top-level script with it, i.e.:

```
/data/cuplv/callback-verification-auto/callback-verification$ python autoCheck.py openstackFullSuiteConfig.ini
```

Configuring Auto Verifier
=========================

See 'openstackFullSuiteConfig.ini' for example. The main parameters of the scripts are located in the section 'verifierOptions':

 * input  : Root path of the input repositories. This should be the output root path of the AutoTracer (https://github.com/cuplv/TraceRunner)
 * output : Root path of output where autoVerify.py should write its output to.
 * verifierpath : Project path of the callback-verification 
 * specpath : Path to the list of specifications
 * specs : Comma seperated spec files

Adding sections of the form [app:<AppName>] will inform autoCheck of traces of the app 'AppName' found at '<input>/AppName'. Each of these accept overrides to 'specpath' and 'specs', and additionally accepts the parameter 'json' to indicate if traces are in json (default is set to protobuf binary).
